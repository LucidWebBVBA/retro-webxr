{"version":3,"sources":["index.js"],"names":["chromeSemverPattern","getChromeSemver","pattern","semver","navigator","userAgent","match","length","major","minor","build","patch","chromeVersion","map","ver","parseInt","useRetroWebXR","flags","all","changes","requestDevice","window","xr","requestSession"],"mappings":";AAqCO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,mBAAA,EArCP,IAAMA,EAAsB,yDAEtBC,EAAkB,SAACC,GACfC,IAAAA,EACFC,UACKC,UACAC,MAAMJ,GAAWF,GAGtBG,GAAU,MAAVA,GAAmC,GAAjBA,EAAOI,OAClB,MAAA,CACHC,OAAQ,EACRC,OAAQ,EACRC,OAAQ,EACRC,OAAQ,GAIVC,IAAAA,EAAgBT,EAAOU,IAAI,SAAAC,GAAOC,OAAAA,SAASD,EAAK,MAE/C,MAAA,CACHN,MAAOI,EAAc,GACrBH,MAAOG,EAAc,GACrBF,MAAOE,EAAc,GACrBD,MAAOC,EAAc,KAahBI,EAAgB,WAACC,IAAAA,EAAQ,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,CAAEC,KAAK,GACnCC,EAAU,GAOTA,OALFF,EAAMC,KAAOD,EAAMG,gBAAkBnB,IAAkBO,OAAS,KACjEa,OAAOjB,UAAUkB,GAAGF,cAAgBC,OAAOjB,UAAUkB,GAAGC,eACxDJ,EAAQ,qCAAuC,sCAG5CA,GARJ,QAAA,cAAA","file":"index.js","sourceRoot":"..\\src","sourcesContent":["const chromeSemverPattern = /Chrom(?:e|ium)\\/([0-9]+)\\.([0-9]+)\\.([0-9]+)\\.([0-9]+)/;\r\n\r\nconst getChromeSemver = (pattern) => {\r\n    const semver = (\r\n        navigator\r\n            .userAgent\r\n            .match(pattern || chromeSemverPattern)\r\n    );\r\n\r\n    if (semver == null || semver.length != 5) {\r\n        return {\r\n            major: -1,\r\n            minor: -1,\r\n            build: -1,\r\n            patch: -1\r\n        };\r\n    }\r\n\r\n    const chromeVersion = semver.map(ver => parseInt(ver, 10));\r\n\r\n    return {\r\n        major: chromeVersion[1],\r\n        minor: chromeVersion[2],\r\n        build: chromeVersion[3],\r\n        patch: chromeVersion[4]\r\n    };\r\n}\r\n\r\n/**\r\n * @function\r\n * \r\n * @param {Object} flags \r\n * @param {Boolean} flags.all Use all compatibilities (true by default)\r\n * @param {Boolean} flags.requestDevice Alias navigator.xr.requestDevice to navigator.xr.requestSession\r\n * \r\n * @returns {Object} Applied changes\r\n */\r\nexport const useRetroWebXR = (flags = { all: true }) => {\r\n    const changes = {};\r\n\r\n    if ((flags.all || flags.requestDevice) && getChromeSemver().major >= 79) {\r\n        window.navigator.xr.requestDevice = window.navigator.xr.requestSession;\r\n        changes['window.navigator.xr.requestDevice'] = 'window.navigator.xr.requestSession';\r\n    }\r\n\r\n    return changes;\r\n}"]}